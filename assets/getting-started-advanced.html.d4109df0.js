import{_ as c,r as a,o as r,c as p,a as n,b as t,w as o,F as u,e as s,d}from"./app.c0ab1dc6.js";const b={},k=n("h1",{id:"getting-started-advanced",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#getting-started-advanced","aria-hidden":"true"},"#"),s(" Getting Started (Advanced)")],-1),g=n("h2",{id:"integrating-by-init-script",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#integrating-by-init-script","aria-hidden":"true"},"#"),s(" Integrating by Init Script")],-1),_=s("Through the "),h={href:"https://docs.gradle.org/current/userguide/init_scripts.html",target:"_blank",rel:"noopener noreferrer"},m=s("Initialization Scripts"),f=s(" provided by Gradle, Booster can be integrated to optimize app performance and stability non-intrusively without modifying the existing code, especially in the CI environment."),v=s("Gradle support integration by "),y={href:"https://docs.gradle.org/current/userguide/init_scripts.html",target:"_blank",rel:"noopener noreferrer"},x=s("Initialization Scripts"),w=s(" in two forms:"),I=s("Command Line Option "),S=s("Use option "),C=n("code",null,"-I",-1),j=s(" or "),E=n("code",null,"--init-script",-1),G=s(" to specify the "),B={href:"https://docs.gradle.org/current/userguide/init_scripts.html",target:"_blank",rel:"noopener noreferrer"},z=s("Initialization Scripts"),N=s(" file on the command line, it's flexible and able to limit the scope of "),K={href:"https://docs.gradle.org/current/userguide/init_scripts.html",target:"_blank",rel:"noopener noreferrer"},O=s("Initialization Scripts"),U=d("<li>Gradle Directory <ul><li>Put a file called <code>init.gradle</code> (or <code>init.gradle.kts</code> for Kotlin) in the <code>USER_HOME/.gradle/</code> directory.</li><li>Put a file that ends with <code>.gradle</code> (or <code>.init.gradle.kts</code> for Kotlin) in the <code>USER_HOME/.gradle/init.d/</code> directory.</li><li>Put a file that ends with <code>.gradle</code> (or <code>.init.gradle.kts</code> for Kotlin) in the <code>USER_HOME/init.d/</code> directory.</li></ul></li>",1),V={href:"https://docs.gradle.org/current/userguide/init_scripts.html#sec:using_an_init_script",target:"_blank",rel:"noopener noreferrer"},$=s("https://docs.gradle.org/current/userguide/init_scripts.html#sec:using_an_init_script"),H=n("p",null,[s("Take the multi-threading optimizationas the example, creating a file called "),n("code",null,"init.gradle"),s(" in the root project directory with the content shown as below:")],-1),L=n("div",{class:"language-groovy ext-groovy line-numbers-mode"},[n("pre",{class:"language-groovy"},[n("code",null,[s("allprojects "),n("span",{class:"token punctuation"},"{"),s(" project "),n("span",{class:"token operator"},"->"),s(`
    buildscript `),n("span",{class:"token punctuation"},"{"),s(`
        ext`),n("span",{class:"token punctuation"},"."),s("booster_version "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'4.6.0'"),s(`
        repositories `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"google"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token function"},"mavenCentral"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        dependencies `),n("span",{class:"token punctuation"},"{"),s(`
            classpath `),n("span",{class:"token string gstring"},[s('"com.didiglobal.booster:booster-gradle-plugin:'),n("span",{class:"token expression"},[n("span",{class:"token punctuation"},"$"),s("booster_version")]),s('"')]),s(`
            classpath `),n("span",{class:"token string gstring"},[s('"com.didiglobal.booster:booster-transform-thread:'),n("span",{class:"token expression"},[n("span",{class:"token punctuation"},"$"),s("booster_version")]),s('"')]),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    repositories `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"google"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token function"},"mavenCentral"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    project`),n("span",{class:"token punctuation"},"."),s("afterEvaluate "),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("project"),n("span",{class:"token punctuation"},"."),s("extensions"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"findByName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'android'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"!="),s(" null"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            project`),n("span",{class:"token punctuation"},"."),s("apply plugin"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'com.didiglobal.booster'"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br")])],-1),M=n("div",{class:"language-kotlin ext-kt line-numbers-mode"},[n("pre",{class:"language-kotlin"},[n("code",null,[s("allprojects "),n("span",{class:"token punctuation"},"{"),s(" project "),n("span",{class:"token operator"},"->"),s(`
    buildscript `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"val"),s(" booster_version "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"4.6.0"')]),s(`
        repositories `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"google"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token function"},"mavenCentral"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        dependencies `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"classpath"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"com.didiglobal.booster:booster-gradle-plugin:'),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"$"),n("span",{class:"token expression"},"booster_version")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token function"},"classpath"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"com.didiglobal.booster:booster-transform-thread:'),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"$"),n("span",{class:"token expression"},"booster_version")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    repositories `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"google"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token function"},"mavenCentral"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    project`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"afterEvaluate"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("project"),n("span",{class:"token punctuation"},"."),s("extensions"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getByName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"android"')]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            project`),n("span",{class:"token punctuation"},"."),s("plugins"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"apply"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-literal singleline"},[n("span",{class:"token string"},'"com.didiglobal.booster"')]),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br")])],-1),P=s("So that we can integrate with Booster by specifying the "),R={href:"https://docs.gradle.org/current/userguide/init_scripts.html",target:"_blank",rel:"noopener noreferrer"},T=s("Initialization Scripts"),A=s(" option on command line\uFF1A"),D=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,`./gradlew -I init.gradle assembleDebug
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br")])],-1),F=n("p",null,[s("It's also OK to integrate with Booster by using "),n("em",null,"Gradle"),s(" directory.")],-1);function q(J,Q){const e=a("ExternalLinkIcon"),i=a("CodeGroupItem"),l=a("CodeGroup");return r(),p(u,null,[k,g,n("p",null,[_,n("a",h,[m,t(e)]),f]),n("p",null,[v,n("a",y,[x,t(e)]),w]),n("ol",null,[n("li",null,[I,n("ul",null,[n("li",null,[S,C,j,E,G,n("a",B,[z,t(e)]),N,n("a",K,[O,t(e)])])])]),U]),n("blockquote",null,[n("p",null,[n("a",V,[$,t(e)])])]),H,t(l,null,{default:o(()=>[t(i,{title:"Groovy",active:""},{default:o(()=>[L]),_:1}),t(i,{title:"Kotlin"},{default:o(()=>[M]),_:1})]),_:1}),n("p",null,[P,n("a",R,[T,t(e)]),A]),D,F],64)}var X=c(b,[["render",q],["__file","getting-started-advanced.html.vue"]]);export{X as default};
